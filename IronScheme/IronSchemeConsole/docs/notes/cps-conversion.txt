CPS conversion
==============

Convert subset of Scheme to CPS via CPS generator.

Assumed limitations:
- inits of letrec, letrec*, library-letrec*

Questions:

1. How to deal with primitive/builtin procedures/forms?

Convert all or handle 'special' ?

Handle special. Each primitive is converted from (proc k .args) => (k (proc . args)).

2. How to deal with higher-order procedures?

For Scheme, no issue, for builtins, problems.

Apply a transform on higher order primitives. Each primitive reference is converted from proc => (lambda (k . args) (k (apply proc args)))


3. Other procedures that need special handling?

- apply

Verified:
- call/cc
- call-with-values
- values




Problems:

(let ((a 1)(b 2))
  (display a)
  (display b)
  (display a)
  (display b)
  (display a)
  (display b)
  (display a)
  (display b)
  (display a)
  (display b))
  